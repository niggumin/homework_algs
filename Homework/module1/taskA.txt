// A
// Дан массив, который получен путем нескольких циклических сдвигов исходного отсортированного массива.
// Нужно найти индекс элемента, с которого начинался исходный массив.



#include <iostream>
#include <sstream>
#include <cassert>

int binarySearch(int* arr, int n){
    int start = 0;
    int end = n-1;
    int first = arr[0];
    int last = arr[n-1];
    
    if (first <= last) return 0;
    
    
    while (start <= end) {
        int mid = start + (end - start)/2;
        if (arr[mid] > arr[mid+1]) return mid+1;
        else if (arr[mid] >= first) start = mid+1;
        else if (arr[mid] <= end) end = mid-1;
    }
    return start;
}


void run(std::istream &input, std::ostream &output){
    int n;
    input >> n;
    int* nums = new int[n];

    for (int i = 0; i < n; ++i)
        input >> nums[i];

    output << binarySearch(nums, n) << std::endl;
    delete[] nums;
}

int main() {
    run(std::cin, std::cout);
    return 0;
}
